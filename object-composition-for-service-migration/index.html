<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link href="/assets/css/dist-style.css" rel="stylesheet" />
  <link href="/assets/css/fonts.css" rel="stylesheet" />
  
  <script src="https://unpkg.com/typeit@8.8.4/dist/index.umd.js"></script>
   <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Object Composition for Service Migration | Srikanth Sastry</title>
<meta name="generator" content="Jekyll v4.4.1" />
<meta property="og:title" content="Object Composition for Service Migration" />
<meta name="author" content="Srikanth Sastry" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Object Composition is a very powerful and pervasive software design technique. Yet, paradoxically, it is an underutilized design pattern whose lack of usage is the root of many anti-patterns in software development. One that I continue to come across regularly has to do with not using composition to test and migrate a piece of software from one service to another." />
<meta property="og:description" content="Object Composition is a very powerful and pervasive software design technique. Yet, paradoxically, it is an underutilized design pattern whose lack of usage is the root of many anti-patterns in software development. One that I continue to come across regularly has to do with not using composition to test and migrate a piece of software from one service to another." />
<link rel="canonical" href="/object-composition-for-service-migration/" />
<meta property="og:url" content="/object-composition-for-service-migration/" />
<meta property="og:site_name" content="Srikanth Sastry" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2019-01-24T21:13:37+00:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Object Composition for Service Migration" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Srikanth Sastry"},"dateModified":"2019-01-24T21:13:37+00:00","datePublished":"2019-01-24T21:13:37+00:00","description":"Object Composition is a very powerful and pervasive software design technique. Yet, paradoxically, it is an underutilized design pattern whose lack of usage is the root of many anti-patterns in software development. One that I continue to come across regularly has to do with not using composition to test and migrate a piece of software from one service to another.","headline":"Object Composition for Service Migration","mainEntityOfPage":{"@type":"WebPage","@id":"/object-composition-for-service-migration/"},"publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"/images/site_logo.png"},"name":"Srikanth Sastry"},"url":"/object-composition-for-service-migration/"}</script>
<!-- End Jekyll SEO tag -->
 
</head>

<body class="bg-white text-gray-900 dark:bg-gray-700 dark:text-slate-100">
  
  <script>
    document.addEventListener("DOMContentLoaded", function () {
      new TypeIt("h1", {}).go();
    });
  </script>
   <nav class="absolute top-0 left-0 right-0 flex w-full flex-wrap items-center justify-between py-4">
  <div class="flex w-full flex-wrap items-center justify-between px-5">
    <a class="flex" href="/" aria-label="Andres Chacon - Developer">
      <img src="/images/site_logo.png" alt="webpage logo" class="block h-8 w-auto">
      <p class="pl-4 hidden md:block text-lg font-bold">Srikanth Sastry <span
          class="text-mulish text-sm font-normal">~/object-composition-for-service-migration/</span>
      </p>
    </a>

    <div class="flex divide-x">
      
      
      
      
      <div><a class="px-4 hover:text-sky-400 "
          href="/archives/">Archives</a></div>
      
      
      
      
      
      <div><a class="px-4 hover:text-sky-400 "
          href="/publications/">Publications</a></div>
      
      
      
      <div><a class="px-4 hover:text-sky-400 "
          href="/touchstone-radio-episodes/">Touchstone Radio Episodes</a></div>
      
      
      
      
      
      
      
      
      
      
      
      
      
      

      
    </div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', function () {
      const currentLangButton = document.querySelector('.current-language');
      const dropdownContent = document.querySelector('.dropdown-content');

      if (currentLangButton && dropdownContent) {
        currentLangButton.addEventListener('click', function () {
          dropdownContent.classList.toggle('hidden');
        });

        document.addEventListener('click', function (event) {
          if (!currentLangButton.contains(event.target) && !dropdownContent.contains(event.target)) {
            dropdownContent.classList.add('hidden');
          }
        });
      }
    });
  </script>
</nav>
 <link rel="stylesheet" href="/assets/css/monokai.css">
<div class="container mx-auto">
  <div id="post" class="prose max-w-[75ch] prose-neutral mx-auto pb-10 pt-20 lg:pt-[90px] lg:pb-20">
    <div class="pb-4">
      <a href="/category/professional"
        class="no-underline font-mulish text-sm hover:text-sky-400 text-gray-500">
        PROFESSIONAL
      </a>
    </div>

    <h1 class="text-left text-2xl font-bold md:text-5xl text-black">Object Composition for Service Migration</h1>

    <div class="flex flex-col md:flex-row text-sm font-mulish justify-between items-center">
      <div class="flex">
        <p>Srikanth Sastry</p>
        <p class="px-2">•</p>
        <p>24 January 2019</p>
        <p class="px-2">•</p>
        <p>
          
           5 mins  </p>
      </div>
      <div>
        <div class="sharing-buttons flex  flex-wrap gap-1 justify-center ">
  <a class="border-2 duration-200 ease inline-flex items-center mb-1 mr-1 transition p-2 rounded-full text-white border-slate-600 bg-slate-600 hover:bg-slate-700 hover:border-slate-700"
    target="_blank" rel="noopener"
    href="https://facebook.com/sharer/sharer.php?u=/object-composition-for-service-migration/"
    aria-label="Share on Facebook">
    <svg aria-hidden="true" fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"
      class="w-5 h-5">
      <title>Facebook</title>
      <path
        d="M379 22v75h-44c-36 0-42 17-42 41v54h84l-12 85h-72v217h-88V277h-72v-85h72v-62c0-72 45-112 109-112 31 0 58 3 65 4z">
      </path>
    </svg>
  </a>
  <a class="border-2 duration-200 ease inline-flex items-center mb-1 mr-1 transition p-2 rounded-full text-white border-slate-600 bg-slate-600 hover:bg-slate-700 hover:border-slate-700"
    target="_blank" rel="noopener"
    href="https://twitter.com/intent/tweet?url=/object-composition-for-service-migration/&text=Object Composition for Service Migration"
    aria-label="Share on Twitter">
    <svg aria-hidden="true" fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"
      class="w-5 h-5">
      <title>Twitter</title>
      <path
        d="m459 152 1 13c0 139-106 299-299 299-59 0-115-17-161-47a217 217 0 0 0 156-44c-47-1-85-31-98-72l19 1c10 0 19-1 28-3-48-10-84-52-84-103v-2c14 8 30 13 47 14A105 105 0 0 1 36 67c51 64 129 106 216 110-2-8-2-16-2-24a105 105 0 0 1 181-72c24-4 47-13 67-25-8 24-25 45-46 58 21-3 41-8 60-17-14 21-32 40-53 55z">
      </path>
    </svg>
  </a>
  <a class="border-2 duration-200 ease inline-flex items-center mb-1 mr-1 transition p-2 rounded-full text-white border-slate-600 bg-slate-600 hover:bg-slate-700 hover:border-slate-700"
    target="_blank" rel="noopener"
    href="https://www.linkedin.com/shareArticle?mini=true&url=/object-composition-for-service-migration/&title=Object Composition for Service Migration&summary=Object Composition for Service Migration&source="
    aria-label="Share on Linkedin">
    <svg aria-hidden="true" fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"
      class="w-5 h-5">
      <title>Linkedin</title>
      <path
        d="M136 183v283H42V183h94zm6-88c1 27-20 49-53 49-32 0-52-22-52-49 0-28 21-49 53-49s52 21 52 49zm333 208v163h-94V314c0-38-13-64-47-64-26 0-42 18-49 35-2 6-3 14-3 23v158h-94V183h94v41c12-20 34-48 85-48 62 0 108 41 108 127z">
      </path>
    </svg>
  </a>
  <a class="border-2 duration-200 ease inline-flex items-center mb-1 mr-1 transition p-2 rounded-full text-white border-slate-600 bg-slate-600 hover:bg-slate-700 hover:border-slate-700"
    target="_blank" rel="noopener"
    href="https://pinterest.com/pin/create/button/?url=/object-composition-for-service-migration/&media=&description=Object Composition for Service Migration"
    aria-label="Share on Pinterest" draggable="false">
    <svg aria-hidden="true" fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"
      class="w-5 h-5">
      <title>Pinterest</title>
      <path
        d="M268 6C165 6 64 75 64 186c0 70 40 110 64 110 9 0 15-28 15-35 0-10-24-30-24-68 0-81 62-138 141-138 68 0 118 39 118 110 0 53-21 153-90 153-25 0-46-18-46-44 0-38 26-74 26-113 0-67-94-55-94 25 0 17 2 36 10 51-14 60-42 148-42 209 0 19 3 38 4 57 4 3 2 3 7 1 51-69 49-82 72-173 12 24 44 36 69 36 106 0 154-103 154-196C448 71 362 6 268 6z">
      </path>
    </svg>
  </a>
  <a class="border-2 duration-200 ease inline-flex items-center mb-1 mr-1 transition p-2 rounded-full text-white border-slate-600 bg-slate-600 hover:bg-slate-700 hover:border-slate-700"
    target="_blank" rel="noopener"
    href="https://reddit.com/submit/?url=/object-composition-for-service-migration/&resubmit=true&title=Object Composition for Service Migration"
    aria-label="Share on Reddit" draggable="false">
    <svg aria-hidden="true" fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"
      class="w-5 h-5">
      <title>Reddit</title>
      <path
        d="M440 204c-15 0-28 6-38 15-35-24-83-40-137-42l28-125 88 20c0 22 18 39 39 39 22 0 40-18 40-39s-17-40-40-40c-15 0-28 9-35 22l-97-22c-5-1-10 3-11 7l-31 138c-53 2-100 18-136 43a53 53 0 0 0-38-16c-56 0-74 74-23 100l-3 24c0 84 95 152 210 152 117 0 211-68 211-152 0-8-1-17-3-25 50-25 32-99-24-99zM129 309a40 40 0 1 1 80 0 40 40 0 0 1-80 0zm215 93c-37 37-139 37-176 0-4-3-4-9 0-13s10-4 13 0c28 28 120 29 149 0 4-4 10-4 14 0s4 10 0 13zm-1-54c-22 0-39-17-39-39a39 39 0 1 1 39 39z">
      </path>
    </svg>
  </a>
  <a class="border-2 duration-200 ease inline-flex items-center mb-1 mr-1 transition p-2 rounded-full text-white border-slate-600 bg-slate-600 hover:bg-slate-700 hover:border-slate-700"
    target="_blank" rel="noopener"
    href="https://wa.me/?text=Object%20Composition%20for%20Service%20Migration%20"
    aria-label="Share on Whatsapp" draggable="false">
    <svg aria-hidden="true" fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"
      class="w-5 h-5">
      <title>Whatsapp</title>
      <path
        d="M413 97A222 222 0 0 0 64 365L31 480l118-31a224 224 0 0 0 330-195c0-59-25-115-67-157zM256 439c-33 0-66-9-94-26l-7-4-70 18 19-68-4-7a185 185 0 0 1 287-229c34 36 56 82 55 131 1 102-84 185-186 185zm101-138c-5-3-33-17-38-18-5-2-9-3-12 2l-18 22c-3 4-6 4-12 2-32-17-54-30-75-66-6-10 5-10 16-31 2-4 1-7-1-10l-17-41c-4-10-9-9-12-9h-11c-4 0-9 1-15 7-5 5-19 19-19 46s20 54 23 57c2 4 39 60 94 84 36 15 49 17 67 14 11-2 33-14 37-27s5-24 4-26c-2-2-5-4-11-6z">
      </path>
    </svg>
  </a>
  <a class="border-2 duration-200 ease inline-flex items-center mb-1 mr-1 transition p-2 rounded-full text-white border-slate-600 bg-slate-600 hover:bg-slate-700 hover:border-slate-700"
    target="_blank" rel="noopener"
    href="https://telegram.me/share/url?text=Object%20Composition%20for%20Service%20Migration&url=/object-composition-for-service-migration/"
    aria-label="Share on Telegram" draggable="false">
    <svg aria-hidden="true" fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"
      class="w-5 h-5">
      <title>Telegram</title>
      <path
        d="M256 8a248 248 0 1 0 0 496 248 248 0 0 0 0-496zm115 169c-4 39-20 134-28 178-4 19-10 25-17 25-14 2-25-9-39-18l-56-37c-24-17-8-25 6-40 3-4 67-61 68-67l-1-4-5-1q-4 1-105 70-15 10-27 9c-9 0-26-5-38-9-16-5-28-7-27-16q1-7 18-14l145-62c69-29 83-34 92-34 2 0 7 1 10 3l4 7a43 43 0 0 1 0 10z">
      </path>
    </svg>
  </a>
  <a class="border-2 duration-200 ease inline-flex items-center mb-1 mr-1 transition p-2 rounded-full text-white border-slate-600 bg-slate-600 hover:bg-slate-700 hover:border-slate-700"
    target="_blank" rel="noopener"
    href="mailto:?subject=Object%20Composition%20for%20Service%20Migration&body=/object-composition-for-service-migration/"
    aria-label="Share by Email" draggable="false">
    <svg aria-hidden="true" fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"
      class="w-5 h-5">
      <title>Email</title>
      <path
        d="M464 64a48 48 0 0 1 29 86L275 314c-11 8-27 8-38 0L19 150a48 48 0 0 1 29-86h416zM218 339c22 17 54 17 76 0l218-163v208c0 35-29 64-64 64H64c-35 0-64-29-64-64V176l218 163z">
      </path>
    </svg>
  </a>
</div>

      </div>
    </div>

    <img class="w-full" src="" alt="Object Composition for Service Migration">

    <div class="my-6">
      <!-- wp:paragraph -->
<p><a href="https://en.wikipedia.org/wiki/Object_composition">Object Composition</a> is a very powerful and pervasive software design technique. Yet, paradoxically, it is an underutilized design pattern whose lack of usage is the root of many anti-patterns in software development. One that I continue to come across regularly has to do with not using composition to test and migrate a piece of software from one service to another.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Briefly, <em>Object Composition</em> is combining two or more objects to create more complex objects while keeping definitions of the constituent objects unchanged (unlike <a href="https://en.wikipedia.org/wiki/Inheritance_(object-oriented_programming)">inheritance</a>, which extends these definitions)</p>
<!-- /wp:paragraph -->

<!-- wp:more -->
<!--more-->
<!-- /wp:more -->

<!-- wp:heading -->
<h2>Set Up </h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>Say you have an existing backend service that your code currently uses. It has evolved over time to become a chimera that needs replacing, and you have a brand new implementation of that service that can replace your old service. </p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Say, the two client implementations looks something like the following:</p>
<!-- /wp:paragraph -->

<!-- wp:preformatted -->
<pre class="wp-block-preformatted">class OldAndBusted implements ServiceClient {<br />  @override<br />  Response process(Request request) {<br />    // Hacky code.<br />    if (request.type == A) {<br />      // Ugly code.<br />    } else if (request.type == B) {<br />      // Even uglier code.<br />    } else {<br />      // A monstrosity that needs to be killed with fire<br />    }<br />    return response;<br />  }<br />}<br /><br />class NewHotness implements ServiceClient {<br />  @override<br />  Response process(Request request) {<br />    // Best code ever written.<br />    return response;<br />  }<br />}</pre>
<!-- /wp:preformatted -->

<!-- wp:paragraph -->
<p>The goal is to migrate your code from using OldAndBusted to NewHotness. There are several ways to do this wrong. So it is easier if I demonstrate a right way to do this using Object Composition.</p>
<!-- /wp:paragraph -->

<!-- wp:heading -->
<h2>A right way</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>There are really four steps to such a migration.</p>
<!-- /wp:paragraph -->

<!-- wp:list {"ordered":true} -->
<ol><li><em>Verify equivalence</em>: Shadow a percentage of your calls to the new service, log mismatches in the response, and fix all such mismatches.</li><li><em>Configure migration</em>: Setup service migration to proceed in phases.</li><li><em>Migrate and clean up</em>: Complete migration and delete the old service.</li></ol>
<!-- /wp:list -->

<!-- wp:heading {"level":3} -->
<h3>Step 1. Verify equivalence</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>The goal here is to ensure that before we start migration, the new service is functionally identical to the old service. We accomplish this through composition of old and new service as sketched out next.</p>
<!-- /wp:paragraph -->

<!-- wp:preformatted -->
<pre class="wp-block-preformatted">class ClientWithShadow implements ServiceClient {<br />  ClientWithShadow(ServiceClient oldAndBusted, <br />                   ServiceClient newHotness) {<br />    this.oldAndBusted = oldAndBusted;<br />    this.newHotness = newHotness;<br />  }<br />  @override<br />  Response process(Request request) {<br />    oldResponse = oldAndBusted.process(request);<br />    if (shouldShadow(request)) {<br />      newResponse = newHotness.process(request);<br />      if (!oldResponse.equals(newResponse)) {<br />        logMismatch(oldResponse, newResponse);<br />      }<br />    }<br />    return newResponse;<br />  }<br /><br /></pre>
<!-- /wp:preformatted -->

<!-- wp:paragraph -->
<p>The pseudocode code above simply delegates calls to the old service, and if shadowing is requires, it additionally delegates to the new service as well and compares the two outputs. It logs any mismatches it sees so that the developer can then take a look at it to ensure that it is addressed.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>You simply replace all calls to OldAndBusted with calls to ClientWithShadow.</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3>Step 2. Configure migration</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>After you have determined that the two services are indeed functionally alike, we can then prep for migration. Again, object composition helps us set this up cleanly.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Pseudocode for setting up such a migration follows next. Here, I assume that there is a Config object that contains the migration related config.</p>
<!-- /wp:paragraph -->

<!-- wp:preformatted -->
<pre class="wp-block-preformatted">class MigrationClient implements ServiceClient {<br />  MigrationClient(ServiceClient oldAndBusted, <br />                  ServiceClient newHotness,<br />                  Config migrationConfig) {<br />    this.oldAndBusted = oldAndBusted;<br />    this.newHotness = newHotness;<br />    this.migrationConfig = migrationConfig;<br />  }<br />  @override<br />  Response process(Request request) {<br />    if (migrationConfig.useNewService(request)) {<br />     return newHotness.process(request);<br />    }<br />    return oldAndBusted.process(request);<br />  }</pre>
<!-- /wp:preformatted -->

<!-- wp:paragraph -->
<p>You simply replace all instances of ClientWithShadow with MigrationClient. Yes, it really is that simple! The migration config has all the info it needs to figure out whether a given request should use the new service or the old service.</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3>Step 3. Migrate and clean up</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>Here, we do the actual migration. We set up the config to slowly start shifting some of the load from the old service to the new one, while monitoring to make sure everything is going well. We can always roll back the migration by editing the config without actually modifying the code, which is a big deal here.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>After migration to the new service a 100%, you can simply replace MigrationClient instances with NewHotness instances, and delete all the old code (OldAndBusted, ClientWithShadow, and MigrationClient). And you are all cleaned up. Profit!</p>
<!-- /wp:paragraph -->

<!-- wp:heading -->
<h2>So many wrong ways<br /></h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>Unfortunately, I have seen this done in way too many wrong ways.</p>
<!-- /wp:paragraph -->

<!-- wp:list -->
<ul><li> I have seen use of inheritance to extend OldAndBusted to NewHotness, and some hacky switch inside the NewHotness implementation to do shadowing and migration.</li><li>I have seen hacky if-else modification of OldAndBusted that the new if-block implementing NewHotness functionality.</li><li>I have seen developers skip shadowing entirely only to cause major service incidents.</li><li>Many more ways that are not that interesting, except for disaster tourism.</li></ul>
<!-- /wp:list -->

<!-- wp:paragraph -->
<p>So, object composition is useful, it is powerful, and please use it more!</p>
<!-- /wp:paragraph -->

    </div>

    <div class="mx-auto py-8">
      <p class="text-center font-extrabold italic">
        Like it? Share it!
      </p>
      <div class="sharing-buttons flex  flex-wrap gap-1 justify-center ">
  <a class="border-2 duration-200 ease inline-flex items-center mb-1 mr-1 transition p-2 rounded-full text-white border-slate-600 bg-slate-600 hover:bg-slate-700 hover:border-slate-700"
    target="_blank" rel="noopener"
    href="https://facebook.com/sharer/sharer.php?u=/object-composition-for-service-migration/"
    aria-label="Share on Facebook">
    <svg aria-hidden="true" fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"
      class="w-5 h-5">
      <title>Facebook</title>
      <path
        d="M379 22v75h-44c-36 0-42 17-42 41v54h84l-12 85h-72v217h-88V277h-72v-85h72v-62c0-72 45-112 109-112 31 0 58 3 65 4z">
      </path>
    </svg>
  </a>
  <a class="border-2 duration-200 ease inline-flex items-center mb-1 mr-1 transition p-2 rounded-full text-white border-slate-600 bg-slate-600 hover:bg-slate-700 hover:border-slate-700"
    target="_blank" rel="noopener"
    href="https://twitter.com/intent/tweet?url=/object-composition-for-service-migration/&text=Object Composition for Service Migration"
    aria-label="Share on Twitter">
    <svg aria-hidden="true" fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"
      class="w-5 h-5">
      <title>Twitter</title>
      <path
        d="m459 152 1 13c0 139-106 299-299 299-59 0-115-17-161-47a217 217 0 0 0 156-44c-47-1-85-31-98-72l19 1c10 0 19-1 28-3-48-10-84-52-84-103v-2c14 8 30 13 47 14A105 105 0 0 1 36 67c51 64 129 106 216 110-2-8-2-16-2-24a105 105 0 0 1 181-72c24-4 47-13 67-25-8 24-25 45-46 58 21-3 41-8 60-17-14 21-32 40-53 55z">
      </path>
    </svg>
  </a>
  <a class="border-2 duration-200 ease inline-flex items-center mb-1 mr-1 transition p-2 rounded-full text-white border-slate-600 bg-slate-600 hover:bg-slate-700 hover:border-slate-700"
    target="_blank" rel="noopener"
    href="https://www.linkedin.com/shareArticle?mini=true&url=/object-composition-for-service-migration/&title=Object Composition for Service Migration&summary=Object Composition for Service Migration&source="
    aria-label="Share on Linkedin">
    <svg aria-hidden="true" fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"
      class="w-5 h-5">
      <title>Linkedin</title>
      <path
        d="M136 183v283H42V183h94zm6-88c1 27-20 49-53 49-32 0-52-22-52-49 0-28 21-49 53-49s52 21 52 49zm333 208v163h-94V314c0-38-13-64-47-64-26 0-42 18-49 35-2 6-3 14-3 23v158h-94V183h94v41c12-20 34-48 85-48 62 0 108 41 108 127z">
      </path>
    </svg>
  </a>
  <a class="border-2 duration-200 ease inline-flex items-center mb-1 mr-1 transition p-2 rounded-full text-white border-slate-600 bg-slate-600 hover:bg-slate-700 hover:border-slate-700"
    target="_blank" rel="noopener"
    href="https://pinterest.com/pin/create/button/?url=/object-composition-for-service-migration/&media=&description=Object Composition for Service Migration"
    aria-label="Share on Pinterest" draggable="false">
    <svg aria-hidden="true" fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"
      class="w-5 h-5">
      <title>Pinterest</title>
      <path
        d="M268 6C165 6 64 75 64 186c0 70 40 110 64 110 9 0 15-28 15-35 0-10-24-30-24-68 0-81 62-138 141-138 68 0 118 39 118 110 0 53-21 153-90 153-25 0-46-18-46-44 0-38 26-74 26-113 0-67-94-55-94 25 0 17 2 36 10 51-14 60-42 148-42 209 0 19 3 38 4 57 4 3 2 3 7 1 51-69 49-82 72-173 12 24 44 36 69 36 106 0 154-103 154-196C448 71 362 6 268 6z">
      </path>
    </svg>
  </a>
  <a class="border-2 duration-200 ease inline-flex items-center mb-1 mr-1 transition p-2 rounded-full text-white border-slate-600 bg-slate-600 hover:bg-slate-700 hover:border-slate-700"
    target="_blank" rel="noopener"
    href="https://reddit.com/submit/?url=/object-composition-for-service-migration/&resubmit=true&title=Object Composition for Service Migration"
    aria-label="Share on Reddit" draggable="false">
    <svg aria-hidden="true" fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"
      class="w-5 h-5">
      <title>Reddit</title>
      <path
        d="M440 204c-15 0-28 6-38 15-35-24-83-40-137-42l28-125 88 20c0 22 18 39 39 39 22 0 40-18 40-39s-17-40-40-40c-15 0-28 9-35 22l-97-22c-5-1-10 3-11 7l-31 138c-53 2-100 18-136 43a53 53 0 0 0-38-16c-56 0-74 74-23 100l-3 24c0 84 95 152 210 152 117 0 211-68 211-152 0-8-1-17-3-25 50-25 32-99-24-99zM129 309a40 40 0 1 1 80 0 40 40 0 0 1-80 0zm215 93c-37 37-139 37-176 0-4-3-4-9 0-13s10-4 13 0c28 28 120 29 149 0 4-4 10-4 14 0s4 10 0 13zm-1-54c-22 0-39-17-39-39a39 39 0 1 1 39 39z">
      </path>
    </svg>
  </a>
  <a class="border-2 duration-200 ease inline-flex items-center mb-1 mr-1 transition p-2 rounded-full text-white border-slate-600 bg-slate-600 hover:bg-slate-700 hover:border-slate-700"
    target="_blank" rel="noopener"
    href="https://wa.me/?text=Object%20Composition%20for%20Service%20Migration%20"
    aria-label="Share on Whatsapp" draggable="false">
    <svg aria-hidden="true" fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"
      class="w-5 h-5">
      <title>Whatsapp</title>
      <path
        d="M413 97A222 222 0 0 0 64 365L31 480l118-31a224 224 0 0 0 330-195c0-59-25-115-67-157zM256 439c-33 0-66-9-94-26l-7-4-70 18 19-68-4-7a185 185 0 0 1 287-229c34 36 56 82 55 131 1 102-84 185-186 185zm101-138c-5-3-33-17-38-18-5-2-9-3-12 2l-18 22c-3 4-6 4-12 2-32-17-54-30-75-66-6-10 5-10 16-31 2-4 1-7-1-10l-17-41c-4-10-9-9-12-9h-11c-4 0-9 1-15 7-5 5-19 19-19 46s20 54 23 57c2 4 39 60 94 84 36 15 49 17 67 14 11-2 33-14 37-27s5-24 4-26c-2-2-5-4-11-6z">
      </path>
    </svg>
  </a>
  <a class="border-2 duration-200 ease inline-flex items-center mb-1 mr-1 transition p-2 rounded-full text-white border-slate-600 bg-slate-600 hover:bg-slate-700 hover:border-slate-700"
    target="_blank" rel="noopener"
    href="https://telegram.me/share/url?text=Object%20Composition%20for%20Service%20Migration&url=/object-composition-for-service-migration/"
    aria-label="Share on Telegram" draggable="false">
    <svg aria-hidden="true" fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"
      class="w-5 h-5">
      <title>Telegram</title>
      <path
        d="M256 8a248 248 0 1 0 0 496 248 248 0 0 0 0-496zm115 169c-4 39-20 134-28 178-4 19-10 25-17 25-14 2-25-9-39-18l-56-37c-24-17-8-25 6-40 3-4 67-61 68-67l-1-4-5-1q-4 1-105 70-15 10-27 9c-9 0-26-5-38-9-16-5-28-7-27-16q1-7 18-14l145-62c69-29 83-34 92-34 2 0 7 1 10 3l4 7a43 43 0 0 1 0 10z">
      </path>
    </svg>
  </a>
  <a class="border-2 duration-200 ease inline-flex items-center mb-1 mr-1 transition p-2 rounded-full text-white border-slate-600 bg-slate-600 hover:bg-slate-700 hover:border-slate-700"
    target="_blank" rel="noopener"
    href="mailto:?subject=Object%20Composition%20for%20Service%20Migration&body=/object-composition-for-service-migration/"
    aria-label="Share by Email" draggable="false">
    <svg aria-hidden="true" fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"
      class="w-5 h-5">
      <title>Email</title>
      <path
        d="M464 64a48 48 0 0 1 29 86L275 314c-11 8-27 8-38 0L19 150a48 48 0 0 1 29-86h416zM218 339c22 17 54 17 76 0l218-163v208c0 35-29 64-64 64H64c-35 0-64-29-64-64V176l218 163z">
      </path>
    </svg>
  </a>
</div>

    </div>

    <div class="font-mulish flex justify-center mb-10">
      
      <a class="pr-2" href="/follyfuture-ontimeout-and-a-race-condition/">&laquo; folly:Future, onTimeout(), and a race condition</a>
      
      
      <a class="pl-2" href="/are-you-building-for-survival-or-excellence/">Are you building for Survival or Excellence? &raquo;</a>
      
    </div>

    
  </div>
</div>
 

<footer class="w-full bottom-0">
  <hr class="my-8 border-zinc-200" />
  <div class="container mx-auto">
    <div class="flex flex-wrap text-left">
      <div class="w-full md:w-6/12 md:px-4">
        <p class="text-3xl font-semibold">
          Let's keep in touch!
        </p>
        <p class="font-mulish text-lg dark:text-zinc-300 mt-2 mb-2">
           Find me on any of these platforms. 
        </p>
         <div class="flex justify-center md:justify-start pt-2 gap-6">
   
  <a
    class="transition hover:scale-110 duration-300"
    href="mailto:srikanth@sastry.name"
  >
    <img
      class="h-6 w-6"
      src="/assets/images/contact_channels/email.svg"
      alt="Email Icon"
    />
  </a>
   
  <a
    class="transition hover:scale-110 duration-300"
    href="https://github.com/srikanthsastry"
    target="_blank"
  >
    <img
      class="h-6 w-6"
      src="/assets/images/contact_channels/github-mark.svg"
      alt="Github Icon"
    />
  </a>
      
</div>
 
      </div>
      <div class="w-full md:w-6/12 md:text-right py-4 md:py-0">
        <div class="flex flex-wrap items-top mb-6">
          <div class="w-full lg:w-4/12 md:px-4 ml-auto">
            <span class="text-lg block text-gray-800 mb-2">
              Pages
            </span>
            <ul>
                 
              <li>
                <a class="font-mulish text-slate-600 hover:text-sky-400 dark:text-slate-300 dark:hover:text-slate-200"
                  href="/archives/">Archives</a>
              </li>
                
              <li>
                <a class="font-mulish text-slate-600 hover:text-sky-400 dark:text-slate-300 dark:hover:text-slate-200"
                  href="/">Home</a>
              </li>
                
              <li>
                <a class="font-mulish text-slate-600 hover:text-sky-400 dark:text-slate-300 dark:hover:text-slate-200"
                  href="/publications/">Publications</a>
              </li>
                
              <li>
                <a class="font-mulish text-slate-600 hover:text-sky-400 dark:text-slate-300 dark:hover:text-slate-200"
                  href="/touchstone-radio-episodes/">Touchstone Radio Episodes</a>
              </li>
                           
            </ul>
          </div>
        </div>
      </div>
    </div>
    <div class="font-mulish flex flex-wrap items-center md:justify-between justify-center my-8">
      <div class="w-full md:w-4/12 px-4 mx-auto text-center">
        
        <a href="/feed.xml" class="p-2">
          <svg fill="#000000" viewBox="-3 0 19 19" xmlns="http://www.w3.org/2000/svg" class="w-10 mx-auto">
            <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
            <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
            <g id="SVGRepo_iconCarrier">
              <path
                d="M.926 12.818a1.403 1.403 0 1 1 0 1.984 1.402 1.402 0 0 1 0-1.984zm10.531 2.357a1.03 1.03 0 0 1-1.029-1.03 8.775 8.775 0 0 0-.694-3.438A8.826 8.826 0 0 0 1.591 5.31a1.03 1.03 0 1 1 0-2.059 10.817 10.817 0 0 1 4.24.857 10.893 10.893 0 0 1 3.463 2.334 10.867 10.867 0 0 1 3.19 7.703 1.027 1.027 0 0 1-1.027 1.029zm-4.538 0a1.03 1.03 0 0 1-1.029-1.03 4.297 4.297 0 0 0-4.299-4.298 1.03 1.03 0 0 1 0-2.059 6.362 6.362 0 0 1 5.857 3.883 6.298 6.298 0 0 1 .5 2.475 1.03 1.03 0 0 1-1.029 1.029z">
              </path>
            </g>
          </svg>
        </a>
        
        <div class="text-sm text-blueGray-500 font-semibold py-1">
          © <span id="get-current-year">2025</span>
          <a href="https://www.creative-tim.com/product/notus-js" class="text-blueGray-500 hover:text-gray-800"
            target="_blank" aria-label="Creative C">Srikanth Sastry.</a>
          All rights reserved.
          <p class="text-xs pt-4">
            Built with ❤️ using the
            <a class="hover:text-sky-400" href="https://github.com/a-chacon/awesome-jekyll-theme">Awesome Jekyll
              Theme</a>.
          </p>
        </div>
      </div>
    </div>
  </div>
</footer>

  <script>
    document.querySelectorAll("a").forEach(function (link) {
      link.addEventListener("click", function (event) {
        event.preventDefault(); // Prevent the default link action temporarily
        link.classList.add("gentle-clicked");

        setTimeout(function () {
          link.classList.remove("gentle-clicked");
          window.location.href = link.href; // Navigate to the link after the animation
        }, 300); // Duration of the gentle bounce animation
      });
    });
  </script>
</body>

</html>
